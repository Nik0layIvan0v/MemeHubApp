@using MemeHub.Services.MemeService
@using System.Text.RegularExpressions
@{
    this.ViewData["Title"] = "Details";
    var fileSystemMemePath = @Model.ImageUrl.Split("wwwroot").LastOrDefault()?.Replace(@"\", "/");
    
    string relativeImagePath = fileSystemMemePath ?? "~/ img / no - image.gif";
}

@model MemeServiceModel

<div class="container meme">
    <section class="meme-section">
        <h1 class="meme-heading">@Model.Title</h1>
    </section>
    <section class="meme-section">
        <div class="container-fluid meme-image">
            @if (string.IsNullOrWhiteSpace(relativeImagePath) == false)
            {
                <img src="@relativeImagePath" alt="Meme image" />
            }
        </div>
    </section>
    <section class="meme-section">
        <div class="container-fluid">
            <p>
                Category: @Model.Category.Name
            </p>
            <p>
                Creator: @Model.Creator
            </p>
            <p>
                Created at: @Model.CreatedAt
            </p>
            <p>
                Label: @Model.Label
            </p>
        </div>
    </section>
    <section class="meme-section">
        <section class="meme-buttons">
            <a asp-controller="Home" asp-action="Index" class="btn btn-primary">Get share link</a>
            <a asp-controller="Home" asp-action="Index" class="btn btn-danger">Delete</a>
            <a asp-controller="Home" asp-action="Index" class="btn btn-warning">Edit</a>
            <a asp-controller="Home" asp-action="Index" class="btn btn-primary">Back</a>
        </section>
    </section>
</div>